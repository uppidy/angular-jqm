<!DOCTYPE html>
<html class="ui-mobile">
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
    <link type="text/css" rel="stylesheet" href="../bower_components/jquery-mobile-min/jquery.mobile.min.css">

    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-touch/angular-touch.js"></script>
    <script src="../bower_components/angular-route/angular-route.js"></script>
    <script src="../bower_components/angular-animate/angular-animate.js"></script>
    <script src="../dist/angular-jqm.js"></script>

    <script>
        var mod = angular.module("app", ["jqm"]);
        mod.config(function ($routeProvider) {
            $routeProvider.when("/ngSnippet.html", {
                redirectTo: "main.html",
                animation: 'page-fade'
            });
            $routeProvider.when("/main.html", {
                templateUrl: 'main.html',
                controller: function($scope, $timeout) {
                  $scope.loadDialog = function() {
                    $scope.$root.loadDialog = true;
                    $timeout(function() {
                      $scope.$root.loadDialog = false;
                    },1500);
                  };
                },
                animation: 'page-slide'
            });
            $routeProvider.when("/page2.html", {
                templateUrl: 'page2.html',
                animation: 'page-slide'
            });
            $routeProvider.otherwise({
                redirectTo: "main.html"
            });
        });
    </script>



    <script>
        function MainCtrl($scope, $location) {
          $scope.go = function(path) {
            $location.path(path);
          };
        }
    </script>
</head>

<body ng-app="app" ng-controller="MainCtrl">
<script type="text/ng-template" id="main.html">
    <!-- the main page of your app -->
    <div jqm-page jqm-popup-target="$root.myPopup" jqm-popup-model="$root.popIsShown">
        <div jqm-popup="$root.myPopup" class="flip">
          <div jqm-view="{ templateUrl: 'page2.html' }" style="width: 200px; height: 200px;" view-deep-watch="true"></div>
        </div>

        <div jqm-header>
          <div class="ui-btn-left" jqm-button ng-click="$root.panel='left'">left</div>
          <h1>Header</h1>
          <div class="ui-btn-right" jqm-button ng-click="$root.panel='right'">right</div>
        </div>
        <a ng-click="go('page2.html')">To page2</a>

        <div jqm-button ng-click="$root.popIsShown = true">
          Popup on the page
        </div>
        <div jqm-button jqm-popup-target="$root.myPopup" jqm-popup-model="buttonPopup" ng-click="buttonPopup = true">
          Popup on the button
        </div>

        <div jqm-button ng-click="loadDialog()">
          Test Dialog
        </div>

<div jqm-button ng-click="SHOWME=!SHOWME">ng-show test</div>
        <div ng-show="SHOWME" class="slide" style="width: 200px; height: 50px; background: red;">Hello!</div>

        <div jqm-controlgroup type="horizontal">
          <div jqm-button ng-repeat="d in ['push','reveal','overlay']" ng-click="$root.display=d">
            {{$root.display==d ? '**'+d+'**' : d}}
          </div>
        </div>

        <p>hello</p>

        <p>hello</p>

        <p>hello</p>
        <p>hello</p>

        <p>hello</p>
        <p>hello</p>

        <p>hello</p>

        <p>hello</p>
        <p>hello</p>

        <p>hello</p>
        <p>hello</p>

        <p>hello</p>

        <p>hello</p>
        <p>hello</p>

        <p>hello</p>
    </div>
</script>

<script type="text/ng-template" id="page2.html">
    <!-- Another page -->
    <div jqm-page>
        <div jqm-header><h1>Page2</h1></div>
        <a ng-click="go('main.html')">To page1</a>

        <p>hello</p>

        <p>hello</p>

        <p>hello</p>

        <p>hello</p>
    </div>
</script>

<div jqm-load-dialog="$root.loadDialog" class="flow">
  <i>Hey</i>, guys!
</div>
<div jqm-panel-container="$root.panel" ng-init="$root.display = 'reveal'">
  <div jqm-panel display="{{$root.display}}">
    <h1>Hello</h1>
  </div>
  <div jqm-panel position="right" display="{{$root.display}}">
    <h1>Goodbye</h1>
  </div>
  <div jqm-view>
    <div jqm-footer>
      <h1>Fixed Footer</h1>
    </div>
  </div>
</body>

</html>
